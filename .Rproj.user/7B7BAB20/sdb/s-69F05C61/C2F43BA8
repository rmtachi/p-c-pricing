{
    "contents" : "####\n#### P&C pricing project                4 June, 2016\n\n#### current tariff \n\n### original data, don't alter\nmoto.origin <- read.csv(file=\"Team2_Data.csv\")\n\n### current tariff only considers four rating factors\nmoto.curr <- moto.origin[,c(\"zone\",\"mc\",\"vage\",\"bonus\",\"duration\",\"freq\",\"sev\")]\n\n### group vehicle age into 0-1, 2-4, >=5\nmoto.curr$vage <- ifelse(moto.origin$vage <= 1, 1, 2)\nmoto.curr$vage[moto.origin$vage >= 5] <- 3\n\n### group bonus into 1-2, 3-4, 5-7\nmoto.curr$bonus <- ifelse(moto.origin$bonus <= 2, 1, 2)\nmoto.curr$bonus[moto.origin$bonus >= 5] <- 3\n\n### make into factors\nmoto.curr$zone <- as.factor(moto.curr$zone)\nmoto.curr$mc <- as.factor(moto.curr$mc)\nmoto.curr$vage <- as.factor(moto.curr$vage)\nmoto.curr$bonus <- as.factor(moto.curr$bonus)\n\n#### aggregate exposure (duration)\nagg <- aggregate(duration ~ zone + mc + vage + bonus, data=moto.curr, FUN=sum)\n\n#### include combinations with no exposure\nfull.agg <- array(0, dim=c(7,7,3,3),\n                  dimnames=list(zone=NULL, mc=NULL, vage=NULL, bonus=NULL))\n\nfor(i in 1:nrow(agg))\n  full.agg[agg[i,1],agg[i,2],agg[i,3],agg[i,4]] <- agg[i,5]\n\n",
    "created" : 1465096515870.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "459250030",
    "id" : "C2F43BA8",
    "lastKnownWriteTime" : 1465100449,
    "path" : "~/actsci/term3/pc-project/script1.R",
    "project_path" : "script1.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}